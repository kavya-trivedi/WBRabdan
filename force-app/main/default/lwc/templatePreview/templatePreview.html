<template>
    <lightning-spinner alternative-text="Loading" size="small" if:true={showSpinner}></lightning-spinner>
    <div class="main-template-preview-div">
        <div class="header-div template-section-div" if:true={headerBody}>
            <template lwc:if={isTextHeader}>
                <div class="header-text">
                    <b>{headerBody}</b>
                </div>
            </template>
            <template lwc:elseif={isImageHeader}>
                <div class="header-image-div">
                    <img class="header-image" src={headerBody} alt="header-photo">
                </div>
            </template>
            <template lwc:elseif={isVideoHeader}>
                <div class="header-image-div">
                    <video class="header-video" src={headerBody} alt="header-video" controls></video>
                </div>
            </template>
            <template lwc:elseif={isDocHeader}>
                <div class="header-image-div">
                    <img class="header-image" src={NoPreviewAvailableImg} alt="header-doc">
                </div>
            </template>
        </div>
        <div class="body-div template-section-div">
            <div class="body-text" if:true={templateBody}>{templateBody}</div>
        </div>
        <div class="footer-div template-section-div">
            <div class="footer-text" if:true={footerBody}>{footerBody}</div>
        </div>
        <!-- <div class="buttons-div template-section-div" if:true={buttonLabel}>
            <div class="quick-action-btn-div">
                <div class="quick-action-btn">
                    {buttonLabel}
                </div>
            </div>
        </div> -->
        <template if:true={buttonList}>
            <template for:each={buttonList} for:item="button" for:index="index">
                <div key={button.id} class="button-label-preview">
                    <lightning-icon 
                    icon-name={button.iconName} 
                    size="x-small" 
                    class="button-icon">
                </lightning-icon>                                    
                    <p>{button.btntext}</p>
                </div>
            </template>
        </template>
        <div class="bottom-btns" if:true={showButtons}>
            <div class="bottom-btn" onclick={handleBack}>
                <svg xmlns="http://www.w3.org/2000/svg" fill="#ffffff" viewBox="0 0 48 48" height="16" width="16" clip-rule="evenodd" stroke-width="1"><path d="M8.13961 45.9561c3.27159 0.2658 8.46289 0.5439 15.86429 0.5439 7.4014 0 12.5927 -0.2781 15.8643 -0.5439 3.2878 -0.2671 5.8247 -2.8039 6.0918 -6.0918 0.2658 -3.2716 0.5439 -8.4629 0.5439 -15.8643 0 -7.4014 -0.2781 -12.5927 -0.5439 -15.8643 -0.2671 -3.28785 -2.8039 -5.82468 -6.0918 -6.09181C36.5966 1.77808 31.4053 1.5 24.0039 1.5c-7.4014 0 -12.5927 0.27807 -15.86429 0.54389 -3.28785 0.26713 -5.82468 2.80395 -6.09181 6.09181 -0.26582 3.2716 -0.54389 8.4629 -0.54389 15.8643 0 7.4014 0.27807 12.5927 0.54389 15.8643 0.26713 3.2878 2.80395 5.8247 6.09181 6.0918ZM25.8963 16.7179c-1.4141 -0.0487 -2.6396 -0.9216 -2.6966 -2.3354 -0.0062 -0.1525 -0.0096 -0.3135 -0.0096 -0.4831 0 -0.1696 0.0034 -0.3306 0.0096 -0.4831 0.057 -1.4139 1.2831 -2.2839 2.6971 -2.3358 2.2876 -0.084 4.142 -0.0886 6.1084 -0.0741 3.3156 0.0244 6.0027 2.7312 5.9999 6.0469l-0.0091 10.8105c-0.0028 3.3114 -2.6874 6.0005 -5.9978 6.0797 -4.8726 0.1166 -10.2726 0.3273 -13.7044 0.4721 -0.0283 0.9763 -0.0676 1.7659 -0.1105 2.4007 -0.0842 1.2485 -1.2723 1.7933 -2.2718 1.0404 -0.7434 -0.5601 -1.7079 -1.3315 -2.9147 -2.3789 -1.7124 -1.4863 -2.6928 -2.6021 -3.24557 -3.3473 -0.5095 -0.687 -0.50944 -1.5609 0.00011 -2.2478 0.55276 -0.7452 1.53326 -1.8609 3.24546 -3.3474 1.2071 -1.0478 2.1717 -1.8194 2.9152 -2.3795 0.9993 -0.7527 2.187 -0.208 2.2713 1.0403 0.0411 0.6087 0.0789 1.36 0.107 2.2817 4.1283 0.0739 8.9207 0.2514 12.9793 0.4062 0.5668 0.0216 1.0382 -0.4321 1.0382 -0.9993v-9.1341c0 -0.5523 -0.4482 -1.0001 -1.0005 -0.9985 -0.4632 0.0014 -0.8811 0.0036 -1.2688 0.0055 -1.5417 0.0079 -2.605 0.0133 -4.1422 -0.0397Z"></path></svg>
                Back
            </div>
            <div class="bottom-btn" onclick={handleSend}>
                <svg xmlns="http://www.w3.org/2000/svg" fill="#ffffff" viewBox="0 0 14 14" height="16" width="16" stroke-width="1"><path d="M11.8214 0.0977331c0.2883 -0.1052509 0.6005 -0.1264465 0.9005 -0.0610159 0.3029 0.0660858 0.5805 0.2177638 0.7997 0.4370018 0.2192 0.219238 0.3709 0.496818 0.437 0.799741 0.0654 0.29992 0.0442 0.6122 -0.061 0.90043l-3.574 10.71201 -0.0002 0.0007c-0.0871 0.2634 -0.2404 0.5001 -0.4453 0.6873 -0.2043 0.1867 -0.45301 0.3178 -0.72238 0.381 -0.26942 0.0657 -0.55131 0.0601 -0.81798 -0.0161 -0.26643 -0.0761 -0.50848 -0.2201 -0.70245 -0.4179l-1.91734 -1.9086 -2.01406 1.0415c-0.15705 0.0812 -0.34532 0.0734 -0.49515 -0.0205 -0.14982 -0.0938 -0.23893 -0.2599 -0.23434 -0.4366l0.08257 -3.18376 7.04493 -5.11741c0.2793 -0.20286 0.3413 -0.59371 0.1384 -0.87298 -0.2029 -0.27928 -0.59371 -0.34122 -0.87299 -0.13836L2.20283 8.0884 0.473125 6.35869l-0.000058 -0.00005 -0.000126 -0.00013c-0.187323 -0.18719 -0.325225 -0.41797 -0.4013217 -0.67163 -0.07555546 -0.25185 -0.0878308 -0.51841 -0.0357814 -0.77609 0.0521166 -0.28151 0.1779581 -0.54421 0.3647391 -0.76128 0.18806 -0.21856 0.431073 -0.38293 0.703923 -0.47612l0.00337 -0.00115 0 0.00001L11.8214 0.0977331Z"></path></svg>
                Send
            </div>
        </div>
        <div class="deleted-template-div" if:true={isTemplateDeleted}>
            This Template does not exist anymore!
        </div>
    </div>
</template>